// NavBar.jsx
import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import './style/navbar.css';

function NavBar() {
  const [isOpen, setIsOpen] = useState(false);

  const toggleNav = () => {
    setIsOpen(!isOpen);
  };

  const closeNav = () => {
    setIsOpen(false);
  };

  return (
    <>
      {/* Mobile Header with Logo and Hamburger */}
      <div className="mobile-header">
        <div className="mobile-logo">
          <svg width="40" height="40" viewBox="0 0 314 314" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="88" y="18" width="10" height="61" fill="#30A0CD"/>
            <rect x="45" y="47" width="10" height="109" fill="#30A0CD"/>
            <rect x="117" y="250" width="10" height="55" fill="#30A0CD"/>
            <path d="M48.1088 235.536C46.5449 215.343 62.2274 209.431 70.2642 209L88.5098 230.359C92.4196 237.262 99.7178 253.141 97.6326 261.426C95.5474 269.71 78.5181 264.878 70.2642 261.426C63.5307 261.21 49.6727 255.73 48.1088 235.536Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M157 305V261.129C177.422 256.548 221.013 242.946 231.999 225.186C242.984 207.426 254.181 172.329 258.407 157H306.997C307.173 174.267 299.075 218.314 265.273 256.371C231.47 294.429 179.007 304.648 157 305Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M236 93.9735C241.49 80.1383 252.941 58.1223 254.824 80.7399C256.706 103.357 243.059 98.9863 236 93.9735Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M237.639 96.351C252.549 90.9717 279.164 84.9183 266.343 103.739C253.522 122.559 241.865 106.655 237.639 96.351Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M154 56.4255V10.3339C167.184 -2.75379 271.454 43.9068 235.499 34.2333C199.543 24.5597 231.903 92.8436 216.323 79.1868C203.858 68.2614 169.581 59.4604 154 56.4255Z" fill="#30A0CD" stroke="#30A0CD"/>
            <circle cx="157" cy="157" r="152" stroke="#204173" strokeWidth="10"/>
            <circle cx="157.5" cy="156.5" r="99.5" stroke="#204173" strokeWidth="10"/>
            <line x1="3" y1="159" x2="61" y2="159" stroke="#204173" strokeWidth="10"/>
            <line x1="256" y1="159" x2="314" y2="159" stroke="#204173" strokeWidth="10"/>
            <line x1="159" y1="258" x2="159" y2="311" stroke="#204173" strokeWidth="10"/>
            <line x1="159" y1="5" x2="159" y2="58" stroke="#204173" strokeWidth="10"/>
            <circle cx="245" cy="56" r="9" fill="#30A0CD"/>
            <circle cx="131.5" cy="31.5" r="4.5" fill="#30A0CD"/>
            <circle cx="277.5" cy="133.5" r="4.5" fill="#30A0CD"/>
            <circle cx="36" cy="195" r="7" fill="#30A0CD"/>
          </svg>
          <h1 className="mobile-title">FitCheck</h1>
        </div>
        <button 
          className={`hamburger ${isOpen ? 'open' : ''}`} 
          onClick={toggleNav}
          aria-label="Toggle navigation"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>

      {/* Overlay for mobile */}
      {isOpen && <div className="nav-overlay" onClick={closeNav}></div>}

      <nav id="navbar" className={`sidenav ${isOpen ? 'open' : ''}`}>
        <div className="navbar-header desktop-only">
          <svg width="50" height="50" viewBox="0 0 314 314" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="88" y="18" width="10" height="61" fill="#30A0CD"/>
            <rect x="45" y="47" width="10" height="109" fill="#30A0CD"/>
            <rect x="117" y="250" width="10" height="55" fill="#30A0CD"/>
            <path d="M48.1088 235.536C46.5449 215.343 62.2274 209.431 70.2642 209L88.5098 230.359C92.4196 237.262 99.7178 253.141 97.6326 261.426C95.5474 269.71 78.5181 264.878 70.2642 261.426C63.5307 261.21 49.6727 255.73 48.1088 235.536Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M157 305V261.129C177.422 256.548 221.013 242.946 231.999 225.186C242.984 207.426 254.181 172.329 258.407 157H306.997C307.173 174.267 299.075 218.314 265.273 256.371C231.47 294.429 179.007 304.648 157 305Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M236 93.9735C241.49 80.1383 252.941 58.1223 254.824 80.7399C256.706 103.357 243.059 98.9863 236 93.9735Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M237.639 96.351C252.549 90.9717 279.164 84.9183 266.343 103.739C253.522 122.559 241.865 106.655 237.639 96.351Z" fill="#30A0CD" stroke="#30A0CD"/>
            <path d="M154 56.4255V10.3339C167.184 -2.75379 271.454 43.9068 235.499 34.2333C199.543 24.5597 231.903 92.8436 216.323 79.1868C203.858 68.2614 169.581 59.4604 154 56.4255Z" fill="#30A0CD" stroke="#30A0CD"/>
            <circle cx="157" cy="157" r="152" stroke="#204173" strokeWidth="10"/>
            <circle cx="157.5" cy="156.5" r="99.5" stroke="#204173" strokeWidth="10"/>
            <line x1="3" y1="159" x2="61" y2="159" stroke="#204173" strokeWidth="10"/>
            <line x1="256" y1="159" x2="314" y2="159" stroke="#204173" strokeWidth="10"/>
            <line x1="159" y1="258" x2="159" y2="311" stroke="#204173" strokeWidth="10"/>
            <line x1="159" y1="5" x2="159" y2="58" stroke="#204173" strokeWidth="10"/>
            <circle cx="245" cy="56" r="9" fill="#30A0CD"/>
            <circle cx="131.5" cy="31.5" r="4.5" fill="#30A0CD"/>
            <circle cx="277.5" cy="133.5" r="4.5" fill="#30A0CD"/>
            <circle cx="36" cy="195" r="7" fill="#30A0CD"/>
          </svg>
          <h1 className="navbar-title">FitCheck</h1>
        </div>

        <ul>
          <li><p>MENU</p></li>
          <li>
            <Link to="/dashboard" onClick={closeNav}>
              <svg className="dashboard-icon" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path 
                  fillRule="evenodd" 
                  clipRule="evenodd" 
                  d="M5.49776 1.50024H12.502C15.0528 1.50024 16.4928 2.94699 16.5003 5.49774V12.5027C16.5003 15.0527 15.0528 16.5002 12.502 16.5002H5.49776C2.94701 16.5002 1.50026 15.0527 1.50026 12.5027V5.49774C1.50026 2.94699 2.94701 1.50024 5.49776 1.50024ZM9.03706 13.3952C9.36031 13.3952 9.62956 13.1552 9.65956 12.8327V5.19024C9.68956 4.95774 9.57781 4.72449 9.37531 4.59774C9.16456 4.47024 8.90956 4.47024 8.70781 4.59774C8.50456 4.72449 8.39281 4.95774 8.41456 5.19024V12.8327C8.45281 13.1552 8.72206 13.3952 9.03706 13.3952ZM12.4878 13.3952C12.8028 13.3952 13.0721 13.1552 13.1103 12.8327V10.3727C13.1321 10.132 13.0203 9.90775 12.8171 9.78025C12.6153 9.65275 12.3603 9.65275 12.1503 9.78025C11.9471 9.90775 11.8353 10.132 11.8653 10.3727V12.8327C11.8953 13.1552 12.1646 13.3952 12.4878 13.3952ZM6.16453 12.8327C6.13453 13.1552 5.86528 13.3952 5.54203 13.3952C5.21953 13.3952 4.94953 13.1552 4.92028 12.8327V7.65024C4.89778 7.41699 5.00953 7.18524 5.21278 7.05774C5.41453 6.93024 5.67028 6.93024 5.87278 7.05774C6.07453 7.18524 6.18778 7.41699 6.16453 7.65024V12.8327Z" 
                  fill="currentColor" 
                />
              </svg>
              Dashboard
            </Link>
          </li>
          <li>
            <Link to="/homepage" onClick={closeNav}>
              <svg className="icon home-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0)">
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M7.63175 0.783666C7.54395 0.780445 7.45606 0.780445 7.36826 0.783666C6.78865 0.804929 6.26673 1.00202 5.69447 1.33011C5.1368 1.64984 4.49478 2.1163 3.68017 2.70816L3.63588 2.74033C2.82126 3.33218 2.17922 3.79864 1.70282 4.23022C1.21395 4.67308 0.865221 5.10855 0.665889 5.65322C0.635693 5.73573 0.608533 5.81932 0.584464 5.90382C0.425577 6.46163 0.451741 7.01891 0.586935 7.66455C0.718683 8.29372 0.963919 9.04846 1.27508 10.0061L2.35918 13.3426C2.59285 14.0618 3.263 14.5487 4.01916 14.5487C4.98312 14.5487 5.76456 13.7672 5.76456 12.8033V11.0852C5.76456 10.6825 6.09101 10.356 6.4937 10.356H8.50631C8.909 10.356 9.23545 10.6825 9.23545 11.0852V12.8033C9.23545 13.7672 10.0169 14.5487 10.9809 14.5487C11.737 14.5487 12.4072 14.0618 12.6408 13.3426L13.7249 10.0061C14.0361 9.04845 14.2813 8.29371 14.4131 7.66454C14.5483 7.01891 14.5744 6.46163 14.4155 5.90382C14.3915 5.81932 14.3643 5.73573 14.3341 5.65322C14.1348 5.10855 13.7861 4.67308 13.2972 4.23022C12.8208 3.79864 12.1787 3.33218 11.3641 2.74032L11.3198 2.70815C10.5052 2.11629 9.8632 1.64983 9.30554 1.33011C8.73328 1.00202 8.21136 0.804929 7.63175 0.783666ZM7.40263 1.72054C7.46752 1.71815 7.53249 1.71815 7.59738 1.72054C7.96953 1.73419 8.34018 1.8573 8.83925 2.14342C9.34785 2.43502 9.94932 2.87123 10.7909 3.4827C11.6326 4.09417 12.2333 4.53141 12.6678 4.92501C13.0941 5.31124 13.3257 5.6257 13.4537 5.97542C13.476 6.0364 13.4961 6.09818 13.5139 6.16064C13.6159 6.51879 13.6134 6.90934 13.4955 7.4724C13.3753 8.04622 13.1463 8.75305 12.8249 9.74243L11.7492 13.0529C11.6411 13.3858 11.3309 13.6112 10.9809 13.6112C10.5347 13.6112 10.1729 13.2495 10.1729 12.8033V11.0852C10.1729 10.1647 9.42677 9.41854 8.50631 9.41854H6.4937C5.57324 9.41854 4.82706 10.1647 4.82706 11.0852V12.8033C4.82706 13.2495 4.46535 13.6112 4.01916 13.6112C3.66915 13.6112 3.35895 13.3858 3.2508 13.0529L2.17516 9.74244C1.85368 8.75305 1.62469 8.04622 1.50453 7.4724C1.38663 6.90934 1.38409 6.51879 1.4861 6.16064C1.50389 6.09819 1.52397 6.0364 1.54628 5.97542C1.67427 5.6257 1.90589 5.31124 2.33223 4.92501C2.76672 4.53141 3.36745 4.09417 4.20907 3.4827C5.05069 2.87123 5.65216 2.43502 6.16076 2.14342C6.65983 1.8573 7.03048 1.73419 7.40263 1.72054Z"
                    fill="currentColor"
                  />
                </g>
                <defs>
                  <clipPath id="clip0">
                    <rect width="15" height="15" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
              Homepage
            </Link>
          </li>
          <li>
            <Link to="/resources" onClick={closeNav}>
              <svg className="info-icon" width="22" height="22" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path 
                  fillRule="evenodd" 
                  clipRule="evenodd" 
                  d="M5.8575 1.5H12.1432C14.46 1.5 15.75 2.835 15.75 5.1225V12.87C15.75 15.195 14.46 16.5 12.1432 16.5H5.8575C3.5775 16.5 2.25 15.195 2.25 12.87V5.1225C2.25 2.835 3.5775 1.5 5.8575 1.5ZM6.06011 4.995V4.9875H8.30185C8.6251 4.9875 8.8876 5.25 8.8876 5.57175C8.8876 5.9025 8.6251 6.165 8.30185 6.165H6.06011C5.73686 6.165 5.47511 5.9025 5.47511 5.58C5.47511 5.2575 5.73686 4.995 6.06011 4.995ZM6.06011 9.555H11.9401C12.2626 9.555 12.5251 9.2925 12.5251 8.97C12.5251 8.6475 12.2626 8.38425 11.9401 8.38425H6.06011C5.73686 8.38425 5.47511 8.6475 5.47511 8.97C5.47511 9.2925 5.73686 9.555 6.06011 9.555ZM6.06002 12.9825H11.94C12.2393 12.9525 12.465 12.6968 12.465 12.3975C12.465 12.09 12.2393 11.835 11.94 11.805H6.06002C5.83502 11.7825 5.61752 11.8875 5.49752 12.0825C5.37752 12.27 5.37752 12.5175 5.49752 12.7125C5.61752 12.9 5.83502 13.0125 6.06002 12.9825Z" 
                  fill="currentColor"
                />
              </svg>
              Resources
            </Link>
          </li>
          <li>
            <Link to="/survey" onClick={closeNav}>
              <svg className="icon check-in-icon" width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="1.5" width="17" height="12" rx="1.5" stroke="currentColor"/>
                <rect x="5" y="8.2041" width="1.54036" height="3.08072" rx="0.77018" transform="rotate(-46.8252 5 8.2041)" fill="currentColor"/>
                <path d="M7.82501 10.808L6.67737 9.78055L11.3387 4.57388C11.6224 4.25697 12.1093 4.23006 12.4262 4.51377V4.51377C12.7431 4.79749 12.77 5.2844 12.4863 5.60131L7.82501 10.808Z" fill="currentColor"/>
                <rect x="12" width="1" height="4" rx="0.3" fill="currentColor"/>
                <rect x="4" width="1" height="4" rx="0.3" fill="currentColor"/>
              </svg>
              Survey
            </Link>
          </li>
        </ul>
        <ul>
          <li><p>OTHER</p></li>
          <li>
            <Link to="/profile" onClick={closeNav}>
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M12.9705 5.46829C12.9705 7.67106 11.2043 9.43733 8.99998 9.43733C6.7964 9.43733 5.02949 7.67106 5.02949 5.46829C5.02949 3.26552 6.7964 1.5 8.99998 1.5C11.2043 1.5 12.9705 3.26552 12.9705 5.46829ZM9 16.5C5.74678 16.5 3 15.9712 3 13.9312C3 11.8904 5.76404 11.3804 9 11.3804C12.254 11.3804 15 11.9092 15 13.9492C15 15.99 12.236 16.5 9 16.5Z" fill="currentColor"/>
              </svg>
              My Profile
            </Link>
          </li>
          <li>
            <Link to="/login" onClick={closeNav}>
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M5.75226 1.49951H12.2548C14.7973 1.49951 16.4998 3.28451 16.4998 5.93951V12.0678C16.4998 14.7153 14.7973 16.4995 12.2548 16.4995H5.75226C3.20976 16.4995 1.49976 14.7153 1.49976 12.0678V5.93951C1.49976 3.28451 3.20976 1.49951 5.75226 1.49951ZM8.99232 6.79528C8.63982 6.79528 8.34732 6.50203 8.34732 6.14278C8.34732 5.77527 8.63982 5.48277 9.00732 5.48277C9.36732 5.48277 9.65982 5.77527 9.65982 6.14278C9.65982 6.50203 9.36732 6.79528 8.99232 6.79528ZM9.65219 11.8353C9.65219 12.1953 9.35969 12.4878 8.99219 12.4878C8.63219 12.4878 8.33969 12.1953 8.33969 11.8353V8.52025C8.33969 8.1595 8.63219 7.86025 8.99219 7.86025C9.35969 7.86025 9.65219 8.1595 9.65219 8.52025V11.8353Z" fill="currentColor"/>
              </svg>
              Log-Out
            </Link>
          </li>
        </ul>
      </nav>
    </>
  );
}

export default NavBar;